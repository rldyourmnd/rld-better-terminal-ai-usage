# Risk Matrix v1.0.0 (rldyourterm)

## Legend
- `Impact`: High/Medium/Low
- `Likelihood`: High/Medium/Low
- `Owner`: service/owner to handle
- `Status`: Open / Mitigated / Deferred

## Risk 1: GPU device loss under load
- Impact: High
- Likelihood: Medium
- Owner: services/render
- Status: Mitigated
- Mitigation:
  - wgpu error callbacks (`on_uncaptured_error`, device lost handling)
  - bounded retries
  - deterministic fallback to CPU
  - user-visible notification + telemetry event

## Risk 2: PTY teardown race on shell restart
- Impact: High
- Likelihood: Medium
- Owner: foundation/pty, services/session
- Status: Mitigated
- Mitigation:
  - single-writer policy
  - explicit close sequence: input->pty->child->cleanup
  - hard-kill fallback after timeout

## Risk 3: Resize storm when moving across screens
- Impact: Medium
- Likelihood: Medium
- Owner: foundation/window, services/render
- Status: Mitigated
- Mitigation:
  - resize coalescing and debounce
  - adaptive redraw throttling
  - font/cell metrics recompute only on settled resize

## Risk 4: Compatibility drift in color/cursor/scroll behavior
- Impact: Medium
- Likelihood: Medium
- Owner: core/terminal-state
- Status: Mitigated
- Mitigation:
  - canonical ANSI tests for baseline behavior
  - explicit parser fallback for unknown sequences
  - no hard crash on unknown extensions

## Risk 5: Long-running memory growth
- Impact: High
- Likelihood: Medium
- Owner: services/memory
- Status: Mitigated
- Mitigation:
  - default scrollback cap: 50_000 lines
  - bounded diagnostics buffers
  - periodic memory trend checks

## Risk 6: Shell bootstrap mismatch (fish/starship init)
- Impact: Medium
- Likelihood: Low
- Owner: features/shell-integration
- Status: Mitigated
- Mitigation:
  - explicit bootstrap states
  - `shell auto-init` toggle
  - fallback shell to zsh

## Risk 7: Overlapping settings writes / unstable palette state
- Impact: Medium
- Likelihood: Low
- Owner: features/settings
- Status: Mitigated
- Mitigation:
  - schema validation
  - transactional apply + rollback to last valid state

## Risk 8: Installer path mismatch (GitHub + apt/homebrew future)
- Impact: Medium
- Likelihood: Medium
- Owner: app/release
- Status: Deferred
- Mitigation:
  - manual release path validated now
  - explicit apt/homebrew roadmap for post-v1.0

## Out of v1.0 scope
- Windows full production parity.
- multi-window/multiplexer.
- advanced effects and plugin ecosystems.
