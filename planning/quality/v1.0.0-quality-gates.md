# Quality Gates v1.0.0

## Основные must-have

### A. Stability
- Zero mandatory session termination for recoverable failures.
- GPU failure must auto-fallback to CPU without dropping shell session.
- No crash on burst resize/scroll and long output streams.
- Controlled shutdown on shell EOF or PTY close.
- Transition events and fallback reasons are never silent.

### B. AI Tool Compatibility
- Deterministic prompt path for fish + starship baseline.
- Stable copy/paste and command-submission path.
- No full restart required for runtime mode/profile changes from command palette.
- No noisy UI feedback on normal AI command flow.

### C. Performance / Efficiency
- Idle CPU usage bounded; no uncontrolled polling in hot path.
- Auto-frequency screen moves (60/144 Hz) should not cause render corruption.
- Scrollback memory is bounded by policy; default cap 50_000 lines.
- Transition `gpu->cpu` completes in bounded time and preserves shell interaction.

## Milestone Gates

### Gate: v1.0.0 Alpha
- fish+starship baseline запускается.
- command palette открывается и применяет минимум: mode/profile/theme/shell.
- Все три режима рендера доступны: cpu/gpu/auto.
- Structured event logs работают в debug/runtime режиме.

### Gate: v1.0.0 Beta
- 1+ контролируемая GPU failure → graceful fallback в CPU.
- Стресс на resize storm и output burst без падения сессии.
- Scrollback cap и memory policy валидируются вручную.
- Проверка уведомлений о состоянии рендера и fallback.

### Gate: v1.0.0 Release Candidate
- Linux matrix: Ubuntu 22.04 LTS, 24.04 LTS, 25.10.
- macOS baseline: запуск, render и fallback smoke.
- Manual release checklist completed.
- Все high/medium риски имеют mitigation и owner в risk matrix.

## Release lock
- Никакая ветка не признаётся release-ready без:
  - выполнения Alpha и Beta гейтов,
  - заполнения `planning/quality/v1.0.0-acceptance-matrix.md`,
  - подписи чеклиста из `planning/operations/v1.0.0-release-pack.md` и `planning/operations/v1.0.0-manual-test-plan.md`.
